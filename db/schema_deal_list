CREATE TABLE `building_deal_list` (
  `key` int(11) NOT NULL AUTO_INCREMENT,
  `id` varchar(19) NOT NULL,
  `region_code` varchar(5) DEFAULT NULL COMMENT '지역코드',
  `sigungu_name` varchar(20) DEFAULT NULL COMMENT '시군구',
  `leg_dong_name` varchar(20) DEFAULT NULL COMMENT '법정동',
  `leg_dong_code` varchar(10) DEFAULT NULL,
  `jibun` varchar(9) DEFAULT NULL COMMENT '지번',
  `jibun_hint` varchar(9) DEFAULT NULL COMMENT '지번hint',
  `usage_name` varchar(300) DEFAULT NULL COMMENT '용도지역',
  `building_main_usage_name` varchar(300) DEFAULT NULL COMMENT '건물주용도',
  `arch_year` varchar(4) DEFAULT NULL COMMENT '건축년도',
  `floor` varchar(4) DEFAULT NULL COMMENT '층',
  `land_area` decimal(28,9) DEFAULT NULL COMMENT '대지면적',
  `building_area` decimal(28,9) DEFAULT NULL COMMENT '건물면적',
  `div_name` varchar(300) DEFAULT NULL COMMENT '구분',
  `leg_div_code_name` varchar(100) DEFAULT NULL,
  `price` varchar(300) DEFAULT NULL COMMENT '거래금액',
  `deal_date` datetime DEFAULT NULL,
  `deal_type` varchar(45) DEFAULT NULL COMMENT '거래 유형 ',
  `broker_loc` varchar(45) DEFAULT NULL COMMENT '중개사 소재지',
  `cancel_reason_date` varchar(45) DEFAULT NULL COMMENT '해제사유발생일',
  `cancel_yn` varchar(45) DEFAULT NULL,
  `position` geometry NOT NULL,
  `updated_at` datetime DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `created_at` datetime DEFAULT current_timestamp(),
  PRIMARY KEY (`key`),
  UNIQUE KEY `idx_id_deal_date` (`id`,`deal_date`),
  KEY `idx_leg_dong_code` (`leg_dong_code`),
  KEY `idx_jibun` (`jibun`),
  SPATIAL KEY `idx_position` (`position`)
) ENGINE=InnoDB AUTO_INCREMENT=54244 DEFAULT CHARSET=utf8mb4 COLLATE=uca1400_ai_ci;

CREATE TABLE `land_deal_list` (
  `key` int(11) NOT NULL AUTO_INCREMENT,
  `id` varchar(19) NOT NULL,
  `region_code` varchar(5) DEFAULT NULL COMMENT '지역코드',
  `sigungu_name` varchar(20) DEFAULT NULL COMMENT '시군구',
  `leg_dong_name` varchar(20) DEFAULT NULL COMMENT '법정동',
  `leg_dong_code` varchar(10) DEFAULT NULL,
  `jibun` varchar(9) DEFAULT NULL COMMENT '지번',
  `jibun_hint` varchar(9) DEFAULT NULL COMMENT '지번hint',
  `usage_name` varchar(300) DEFAULT NULL COMMENT '용도지역',
  `jimok` varchar(8) DEFAULT NULL COMMENT '지목',
  `area` decimal(28,9) DEFAULT NULL COMMENT '거래면적',
  `price` varchar(300) DEFAULT NULL COMMENT '거래금액',
  `div_name` varchar(300) DEFAULT NULL COMMENT '구분',
  `deal_date` datetime DEFAULT NULL,
  `deal_type` varchar(45) DEFAULT NULL COMMENT '거래 유형 ',
  `broker_loc` varchar(45) DEFAULT NULL COMMENT '중개사 소재지',
  `cancel_reason_date` varchar(45) DEFAULT NULL COMMENT '해제사유발생일',
  `cancel_yn` varchar(45) DEFAULT NULL,
  `position` geometry NOT NULL,
  `updated_at` datetime DEFAULT current_timestamp() ON UPDATE current_timestamp(),
  `created_at` datetime DEFAULT current_timestamp(),  
  PRIMARY KEY (`key`),
  UNIQUE KEY `idx_id_deal_date` (`id`,`deal_date`),
  KEY `idx_leg_dong_code` (`leg_dong_code`),
  KEY `idx_jibun` (`jibun`),
  SPATIAL KEY `idx_position` (`position`)
) ENGINE=InnoDB AUTO_INCREMENT=59654 DEFAULT CHARSET=utf8mb4 COLLATE=uca1400_ai_ci;